import './IconButton.css';
import React from 'react';

export class IconButton extends React.Component {
  constructor(props) {
    super(props);
  }

  getContent(state) {
    const contentOfState = {
      idle: '업로드',
      resolved: '완료',
      pending: '업로드 중',
      rejected: '실패',
      disabled: '업로드',
    };
    return contentOfState[state];
  }

  getIcon(state) {
    const IconOfState = {
      idle: 'M1.80202 3.65685L5.27085 0.292893C5.67355 -0.0976316 6.32645 -0.0976317 6.72915 0.292893L10.198 3.65685C10.6007 4.04738 10.6007 4.68054 10.198 5.07107C9.79528 5.46159 9.14238 5.46159 8.73968 5.07107L7.03117 3.41421L7.03117 11C7.03117 11.5523 6.5695 12 6 12C5.4305 12 4.96883 11.5523 4.96883 11L4.96883 3.41421L3.26032 5.07107C2.85762 5.46159 2.20472 5.46159 1.80202 5.07107C1.39933 4.68054 1.39933 4.04738 1.80202 3.65685Z',
      resolved:
        'M11.6321 0.725137C12.0601 1.07424 12.124 1.70417 11.7749 2.13213L4.43311 11.1321C4.24683 11.3605 3.96931 11.495 3.67466 11.4999C3.38 11.5047 3.09822 11.3794 2.90454 11.1572L0.246308 8.10887C-0.116669 7.69262 -0.0734819 7.06093 0.34277 6.69795C0.759022 6.33497 1.39071 6.37816 1.75369 6.79441L3.63274 8.94925L10.2251 0.867906C10.5742 0.439952 11.2042 0.376032 11.6321 0.725137Z',
      pending:
        'M9.96461 3.87118C9.61452 3.2192 9.10905 2.66362 8.49296 2.25365C7.87687 1.84368 7.16918 1.59198 6.43257 1.52084C5.69597 1.4497 4.95319 1.56132 4.27003 1.84582C3.58688 2.13031 2.98442 2.5789 2.51604 3.15184C2.04766 3.72478 1.7278 4.40439 1.58481 5.13047C1.44181 5.85656 1.48009 6.6067 1.69626 7.31445C1.91242 8.02221 2.29979 8.66573 2.82407 9.18802C3.34834 9.7103 3.99333 10.0952 4.7019 10.3087L5.1124 8.94617C4.6279 8.8002 4.18687 8.53699 3.82839 8.17987C3.46991 7.82275 3.20503 7.38273 3.05723 6.89879C2.90942 6.41484 2.88325 5.90192 2.98102 5.40544C3.0788 4.90897 3.2975 4.44427 3.61777 4.05251C3.93804 3.66075 4.34998 3.35402 4.8171 3.15949C5.28422 2.96496 5.79211 2.88864 6.29578 2.93728C6.79945 2.98592 7.28335 3.15803 7.70461 3.43835C8.12588 3.71868 8.47151 4.09857 8.71088 4.54438L9.96461 3.87118Z',
      rejected:
        'M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12ZM3.40106 3.25359C3.79159 2.86306 4.42475 2.86306 4.81528 3.25359L6.01883 4.45714L7.22238 3.25359C7.61291 2.86306 8.24607 2.86306 8.6366 3.25359C9.02712 3.64411 9.02712 4.27728 8.6366 4.6678L7.43304 5.87135L8.6366 7.07491C9.02712 7.46543 9.02712 8.0986 8.6366 8.48912C8.24607 8.87964 7.61291 8.87964 7.22238 8.48912L6.01883 7.28557L4.81528 8.48912C4.42475 8.87964 3.79159 8.87964 3.40106 8.48912C3.01054 8.0986 3.01054 7.46543 3.40106 7.07491L4.60462 5.87135L3.40106 4.6678C3.01054 4.27728 3.01054 3.64411 3.40106 3.25359Z',
      disabled:
        'M12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6ZM9.65221 6.00001C9.65221 8.01707 8.01707 9.65221 6.00001 9.65221C5.37082 9.65221 4.77878 9.4931 4.26195 9.21293L9.21292 4.26194C9.4931 4.77878 9.65221 5.37081 9.65221 6.00001ZM2.83053 7.81592L7.81591 2.83053C7.28103 2.52342 6.66103 2.34781 6.00001 2.34781C3.98296 2.34781 2.34781 3.98296 2.34781 6.00001C2.34781 6.66103 2.52342 7.28104 2.83053 7.81592Z',
    };

    return IconOfState[state];
  }

  render() {
    return (
      <button className="iconButton" disabled={this.props.state === 'disabled'}>
        <span className="iconButtonContent">
          {this.getContent(this.props.state)}
        </span>
        <svg
          className="iconButtonIcon"
          width={12}
          height={12}
          viewBox="0 0 12 12"
          fill="none"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d={this.getIcon(this.props.state)}
            fill={this.props.state === 'disabled' ? '#adaeb6' : '#525577'}
          >
            {this.props.state === 'pending' && (
              <animateTransform
                attributeName="transform"
                attributeType="XML"
                type="rotate"
                from="0 6 6"
                to="360 6 6"
                dur="0.6s"
                repeatCount="indefinite"
              />
            )}
          </path>
        </svg>
      </button>
    );
  }
}
